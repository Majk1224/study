<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>常见兼容问题 | 前端知识点总结</title>
    <meta name="description" content="让编码像 1 + 1 一样简单">
    <link rel="icon" href="/study/logo.png">
  <link rel="manifest" href="/study/manifest.json">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/study/icons/apple-touch-icon-152x152.png">
  <link rel="mask-icon" href="/study/icons/safari-pinned-tab.svg" color="#3eaf7c">
  <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
  <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/study/assets/css/styles.24705535.css" as="style"><link rel="preload" href="/study/assets/js/app.24705535.js" as="script"><link rel="preload" href="/study/assets/js/75.9dcb4b1e.js" as="script"><link rel="prefetch" href="/study/assets/css/1.styles.bce0f255.css"><link rel="prefetch" href="/study/assets/css/2.styles.2e524754.css"><link rel="prefetch" href="/study/assets/css/3.styles.06cddba7.css"><link rel="prefetch" href="/study/assets/css/4.styles.0fd6dda2.css"><link rel="prefetch" href="/study/assets/css/5.styles.755b2b7b.css"><link rel="prefetch" href="/study/assets/css/6.styles.4c792de9.css"><link rel="prefetch" href="/study/assets/css/7.styles.f5d4e93b.css"><link rel="prefetch" href="/study/assets/js/1.bce0f255.js"><link rel="prefetch" href="/study/assets/js/10.5e9e64a1.js"><link rel="prefetch" href="/study/assets/js/100.574a0a50.js"><link rel="prefetch" href="/study/assets/js/101.6cb92323.js"><link rel="prefetch" href="/study/assets/js/102.a6b560eb.js"><link rel="prefetch" href="/study/assets/js/103.00190b2f.js"><link rel="prefetch" href="/study/assets/js/104.0d9f5c94.js"><link rel="prefetch" href="/study/assets/js/11.26f03db9.js"><link rel="prefetch" href="/study/assets/js/12.05d27901.js"><link rel="prefetch" href="/study/assets/js/13.4239f435.js"><link rel="prefetch" href="/study/assets/js/14.2b5d8386.js"><link rel="prefetch" href="/study/assets/js/15.00189645.js"><link rel="prefetch" href="/study/assets/js/16.09c73b60.js"><link rel="prefetch" href="/study/assets/js/17.27852b80.js"><link rel="prefetch" href="/study/assets/js/18.db8d0a82.js"><link rel="prefetch" href="/study/assets/js/19.da71f4f4.js"><link rel="prefetch" href="/study/assets/js/2.2e524754.js"><link rel="prefetch" href="/study/assets/js/20.b8c6402b.js"><link rel="prefetch" href="/study/assets/js/21.66a902da.js"><link rel="prefetch" href="/study/assets/js/22.908ec55b.js"><link rel="prefetch" href="/study/assets/js/23.7b7d8e74.js"><link rel="prefetch" href="/study/assets/js/24.28ee8f93.js"><link rel="prefetch" href="/study/assets/js/25.7aa072ee.js"><link rel="prefetch" href="/study/assets/js/26.5d0bcabf.js"><link rel="prefetch" href="/study/assets/js/27.ca0e8176.js"><link rel="prefetch" href="/study/assets/js/28.4c72bf4d.js"><link rel="prefetch" href="/study/assets/js/29.fa4391b8.js"><link rel="prefetch" href="/study/assets/js/3.06cddba7.js"><link rel="prefetch" href="/study/assets/js/30.3fe867ae.js"><link rel="prefetch" href="/study/assets/js/31.89d7a703.js"><link rel="prefetch" href="/study/assets/js/32.214d6e95.js"><link rel="prefetch" href="/study/assets/js/33.755a6a5b.js"><link rel="prefetch" href="/study/assets/js/34.94f54eff.js"><link rel="prefetch" href="/study/assets/js/35.dc9cf2cd.js"><link rel="prefetch" href="/study/assets/js/36.fb64736c.js"><link rel="prefetch" href="/study/assets/js/37.b2ba54c3.js"><link rel="prefetch" href="/study/assets/js/38.4dca4e35.js"><link rel="prefetch" href="/study/assets/js/39.d9a1b622.js"><link rel="prefetch" href="/study/assets/js/4.0fd6dda2.js"><link rel="prefetch" href="/study/assets/js/40.65992656.js"><link rel="prefetch" href="/study/assets/js/41.866e11f1.js"><link rel="prefetch" href="/study/assets/js/42.e6fe3160.js"><link rel="prefetch" href="/study/assets/js/43.e26c73ba.js"><link rel="prefetch" href="/study/assets/js/44.9671f263.js"><link rel="prefetch" href="/study/assets/js/45.4659d881.js"><link rel="prefetch" href="/study/assets/js/46.fcf113ea.js"><link rel="prefetch" href="/study/assets/js/47.b780c584.js"><link rel="prefetch" href="/study/assets/js/48.405a879c.js"><link rel="prefetch" href="/study/assets/js/49.e3a49b1e.js"><link rel="prefetch" href="/study/assets/js/5.755b2b7b.js"><link rel="prefetch" href="/study/assets/js/50.90a66441.js"><link rel="prefetch" href="/study/assets/js/51.65f9ca12.js"><link rel="prefetch" href="/study/assets/js/52.ee5be520.js"><link rel="prefetch" href="/study/assets/js/53.37c516a3.js"><link rel="prefetch" href="/study/assets/js/54.32b094f5.js"><link rel="prefetch" href="/study/assets/js/55.3e676acf.js"><link rel="prefetch" href="/study/assets/js/56.45c04884.js"><link rel="prefetch" href="/study/assets/js/57.83d581de.js"><link rel="prefetch" href="/study/assets/js/58.755a980f.js"><link rel="prefetch" href="/study/assets/js/59.e42d2020.js"><link rel="prefetch" href="/study/assets/js/6.4c792de9.js"><link rel="prefetch" href="/study/assets/js/60.96d990f1.js"><link rel="prefetch" href="/study/assets/js/61.2b3d0fc5.js"><link rel="prefetch" href="/study/assets/js/62.2c9229bf.js"><link rel="prefetch" href="/study/assets/js/63.13b37f7e.js"><link rel="prefetch" href="/study/assets/js/64.7a9bbda7.js"><link rel="prefetch" href="/study/assets/js/65.a0918d15.js"><link rel="prefetch" href="/study/assets/js/66.5dd41fc1.js"><link rel="prefetch" href="/study/assets/js/67.38f6f641.js"><link rel="prefetch" href="/study/assets/js/68.3ae8fd60.js"><link rel="prefetch" href="/study/assets/js/69.7e708909.js"><link rel="prefetch" href="/study/assets/js/7.f5d4e93b.js"><link rel="prefetch" href="/study/assets/js/70.34dcbad5.js"><link rel="prefetch" href="/study/assets/js/71.9932335a.js"><link rel="prefetch" href="/study/assets/js/72.46f6d43d.js"><link rel="prefetch" href="/study/assets/js/73.9aef5d1d.js"><link rel="prefetch" href="/study/assets/js/74.79e8a739.js"><link rel="prefetch" href="/study/assets/js/76.b3363554.js"><link rel="prefetch" href="/study/assets/js/77.d1acb80a.js"><link rel="prefetch" href="/study/assets/js/78.1a9b9901.js"><link rel="prefetch" href="/study/assets/js/79.1bd73d96.js"><link rel="prefetch" href="/study/assets/js/8.44214673.js"><link rel="prefetch" href="/study/assets/js/80.4466cc40.js"><link rel="prefetch" href="/study/assets/js/81.ab2f371b.js"><link rel="prefetch" href="/study/assets/js/82.82bb385d.js"><link rel="prefetch" href="/study/assets/js/83.cc5439a8.js"><link rel="prefetch" href="/study/assets/js/84.e94a1ed2.js"><link rel="prefetch" href="/study/assets/js/85.f7258894.js"><link rel="prefetch" href="/study/assets/js/86.cf352a46.js"><link rel="prefetch" href="/study/assets/js/87.c0127695.js"><link rel="prefetch" href="/study/assets/js/88.0bc39392.js"><link rel="prefetch" href="/study/assets/js/89.ec0894e8.js"><link rel="prefetch" href="/study/assets/js/9.f886ad71.js"><link rel="prefetch" href="/study/assets/js/90.e4ad49fc.js"><link rel="prefetch" href="/study/assets/js/91.7ec703d8.js"><link rel="prefetch" href="/study/assets/js/92.991a81ae.js"><link rel="prefetch" href="/study/assets/js/93.c3cb7884.js"><link rel="prefetch" href="/study/assets/js/94.a08d82f0.js"><link rel="prefetch" href="/study/assets/js/95.fb6e149f.js"><link rel="prefetch" href="/study/assets/js/96.715622fc.js"><link rel="prefetch" href="/study/assets/js/97.b7d0df5f.js"><link rel="prefetch" href="/study/assets/js/98.a7ee123a.js"><link rel="prefetch" href="/study/assets/js/99.20eb63ac.js">
    <link rel="stylesheet" href="/study/assets/css/styles.24705535.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/study/" class="home-link router-link-active"><!----> <span class="site-name">前端知识点总结</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/study/zh/standard/Start.html" class="nav-link">快速搭建开发环境</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">算法</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/study/zh/algorithm/basic1.html" class="nav-link">基础算法(一)</a></li><li class="dropdown-item"><!----> <a href="/study/zh/algorithm/basic2.html" class="nav-link">基础算法(二)</a></li><li class="dropdown-item"><!----> <a href="/study/zh/algorithm/Index.html" class="nav-link">高薪通关</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">项目相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/study/zh/standard/Standard.html" class="nav-link">前端规范</a></li><li class="dropdown-item"><!----> <a href="/study/zh/standard/Git.html" class="nav-link">Git规范</a></li><li class="dropdown-item"><!----> <a href="/study/zh/standard/Project.html" class="nav-link">项目流程</a></li><li class="dropdown-item"><!----> <a href="/study/zh/standard/Cooperation.html" class="nav-link">前后端交互</a></li><li class="dropdown-item"><!----> <a href="/study/zh/standard/Compatibility.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">移动端兼容问题</a></li><li class="dropdown-item"><!----> <a href="/study/zh/standard/Improve.html" class="nav-link">项目优化</a></li><li class="dropdown-item"><!----> <a href="/study/zh/standard/Cache.html" class="nav-link">浏览器缓存</a></li><li class="dropdown-item"><!----> <a href="/study/zh/standard/Spa.html" class="nav-link">单页面应用</a></li><li class="dropdown-item"><!----> <a href="/study/zh/standard/Pwa.html" class="nav-link">渐进式web应用</a></li><li class="dropdown-item"><!----> <a href="/study/zh/standard/Security.html" class="nav-link">网络安全</a></li><li class="dropdown-item"><!----> <a href="/study/zh/standard/Jest.html" class="nav-link">单元测试</a></li><li class="dropdown-item"><!----> <a href="/study/zh/standard/Deploy.html" class="nav-link">前端自动化部署</a></li><li class="dropdown-item"><!----> <a href="/study/zh/standard/Webpack.html" class="nav-link">Webpack的loader和plugin</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">经典面试题</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/study/zh/interview/index.html" class="nav-link">面试必看</a></li><li class="dropdown-item"><!----> <a href="/study/zh/interview/learnAll.html" class="nav-link">常见面试经</a></li><li class="dropdown-item"><!----> <a href="/study/zh/interview/threeYear.html" class="nav-link">寒冬三年前端</a></li><li class="dropdown-item"><!----> <a href="/study/zh/book/" class="nav-link">前端面试大全</a></li><li class="dropdown-item"><!----> <a href="/study/zh/interview/ali.html" class="nav-link">阿里巴巴</a></li><li class="dropdown-item"><!----> <a href="/study/zh/interview/longhu.html" class="nav-link">龙湖地产</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">知识点笔记</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/study/zh/interface/Mind.html" class="nav-link">在线思维导图</a></li><li class="dropdown-item"><!----> <a href="/study/zh/vue/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/study/zh/react/" class="nav-link">React</a></li><li class="dropdown-item"><!----> <a href="/study/zh/miniapp/" class="nav-link">小程序</a></li><li class="dropdown-item"><!----> <a href="/study/zh/webpack/" class="nav-link">Webpack</a></li><li class="dropdown-item"><!----> <a href="/study/zh/standard/Hooks.html" class="nav-link">React Hooks</a></li><li class="dropdown-item"><!----> <a href="/study/zh/summary/typescript.html" class="nav-link">TypeScript</a></li></ul></div></div> <a href="https://github.com/Majk1224/study" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/study/zh/standard/Start.html" class="nav-link">快速搭建开发环境</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">算法</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/study/zh/algorithm/basic1.html" class="nav-link">基础算法(一)</a></li><li class="dropdown-item"><!----> <a href="/study/zh/algorithm/basic2.html" class="nav-link">基础算法(二)</a></li><li class="dropdown-item"><!----> <a href="/study/zh/algorithm/Index.html" class="nav-link">高薪通关</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">项目相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/study/zh/standard/Standard.html" class="nav-link">前端规范</a></li><li class="dropdown-item"><!----> <a href="/study/zh/standard/Git.html" class="nav-link">Git规范</a></li><li class="dropdown-item"><!----> <a href="/study/zh/standard/Project.html" class="nav-link">项目流程</a></li><li class="dropdown-item"><!----> <a href="/study/zh/standard/Cooperation.html" class="nav-link">前后端交互</a></li><li class="dropdown-item"><!----> <a href="/study/zh/standard/Compatibility.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">移动端兼容问题</a></li><li class="dropdown-item"><!----> <a href="/study/zh/standard/Improve.html" class="nav-link">项目优化</a></li><li class="dropdown-item"><!----> <a href="/study/zh/standard/Cache.html" class="nav-link">浏览器缓存</a></li><li class="dropdown-item"><!----> <a href="/study/zh/standard/Spa.html" class="nav-link">单页面应用</a></li><li class="dropdown-item"><!----> <a href="/study/zh/standard/Pwa.html" class="nav-link">渐进式web应用</a></li><li class="dropdown-item"><!----> <a href="/study/zh/standard/Security.html" class="nav-link">网络安全</a></li><li class="dropdown-item"><!----> <a href="/study/zh/standard/Jest.html" class="nav-link">单元测试</a></li><li class="dropdown-item"><!----> <a href="/study/zh/standard/Deploy.html" class="nav-link">前端自动化部署</a></li><li class="dropdown-item"><!----> <a href="/study/zh/standard/Webpack.html" class="nav-link">Webpack的loader和plugin</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">经典面试题</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/study/zh/interview/index.html" class="nav-link">面试必看</a></li><li class="dropdown-item"><!----> <a href="/study/zh/interview/learnAll.html" class="nav-link">常见面试经</a></li><li class="dropdown-item"><!----> <a href="/study/zh/interview/threeYear.html" class="nav-link">寒冬三年前端</a></li><li class="dropdown-item"><!----> <a href="/study/zh/book/" class="nav-link">前端面试大全</a></li><li class="dropdown-item"><!----> <a href="/study/zh/interview/ali.html" class="nav-link">阿里巴巴</a></li><li class="dropdown-item"><!----> <a href="/study/zh/interview/longhu.html" class="nav-link">龙湖地产</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">知识点笔记</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/study/zh/interface/Mind.html" class="nav-link">在线思维导图</a></li><li class="dropdown-item"><!----> <a href="/study/zh/vue/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/study/zh/react/" class="nav-link">React</a></li><li class="dropdown-item"><!----> <a href="/study/zh/miniapp/" class="nav-link">小程序</a></li><li class="dropdown-item"><!----> <a href="/study/zh/webpack/" class="nav-link">Webpack</a></li><li class="dropdown-item"><!----> <a href="/study/zh/standard/Hooks.html" class="nav-link">React Hooks</a></li><li class="dropdown-item"><!----> <a href="/study/zh/summary/typescript.html" class="nav-link">TypeScript</a></li></ul></div></div> <a href="https://github.com/Majk1224/study" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav> <div class="carbon-ads"></div> <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>常见兼容问题</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/study/zh/standard/Compatibility.html#如何处理兼容问题" class="sidebar-link">如何处理兼容问题</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/study/zh/standard/Compatibility.html#样式问题" class="sidebar-link">样式问题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/study/zh/standard/Compatibility.html#清除浏览器默认样式" class="sidebar-link">清除浏览器默认样式</a></li><li class="sidebar-sub-header"><a href="/study/zh/standard/Compatibility.html#清除ios输入框默认阴影" class="sidebar-link">清除ios输入框默认阴影</a></li><li class="sidebar-sub-header"><a href="/study/zh/standard/Compatibility.html#清除ios触摸元素出现半透明灰色遮罩" class="sidebar-link">清除ios触摸元素出现半透明灰色遮罩</a></li><li class="sidebar-sub-header"><a href="/study/zh/standard/Compatibility.html#ios滑动卡顿问题" class="sidebar-link">Ios滑动卡顿问题</a></li><li class="sidebar-sub-header"><a href="/study/zh/standard/Compatibility.html#禁止复制、选中文本" class="sidebar-link">禁止复制、选中文本</a></li><li class="sidebar-sub-header"><a href="/study/zh/standard/Compatibility.html#修改input框的placehold样式" class="sidebar-link">修改input框的placehold样式</a></li><li class="sidebar-sub-header"><a href="/study/zh/standard/Compatibility.html#模拟实现pc上的hover效果" class="sidebar-link">模拟实现PC上的hover效果</a></li><li class="sidebar-sub-header"><a href="/study/zh/standard/Compatibility.html#启用硬件加速" class="sidebar-link">启用硬件加速</a></li><li class="sidebar-sub-header"><a href="/study/zh/standard/Compatibility.html#多倍屏1px像素问题和图片模糊问题" class="sidebar-link">多倍屏1px像素问题和图片模糊问题</a></li><li class="sidebar-sub-header"><a href="/study/zh/standard/Compatibility.html#transition闪屏问题" class="sidebar-link">transition闪屏问题</a></li><li class="sidebar-sub-header"><a href="/study/zh/standard/Compatibility.html#fixed定位问题" class="sidebar-link">fixed定位问题</a></li><li class="sidebar-sub-header"><a href="/study/zh/standard/Compatibility.html#_300ms延迟问题" class="sidebar-link">300ms延迟问题</a></li><li class="sidebar-sub-header"><a href="/study/zh/standard/Compatibility.html#点击穿透问题" class="sidebar-link">点击穿透问题</a></li><li class="sidebar-sub-header"><a href="/study/zh/standard/Compatibility.html#js不执行问题" class="sidebar-link">js不执行问题</a></li><li class="sidebar-sub-header"><a href="/study/zh/standard/Compatibility.html#移动端audio-autoplay失效问题" class="sidebar-link">移动端audio autoplay失效问题</a></li></ul></li><li><a href="/study/zh/standard/Compatibility.html#移动端适配问题" class="sidebar-link">移动端适配问题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/study/zh/standard/Compatibility.html#窗口适配，禁止用户缩放" class="sidebar-link">窗口适配，禁止用户缩放</a></li><li class="sidebar-sub-header"><a href="/study/zh/standard/Compatibility.html#常用navigator-useragent" class="sidebar-link">常用navigator.useragent</a></li><li class="sidebar-sub-header"><a href="/study/zh/standard/Compatibility.html#rem计算" class="sidebar-link">rem计算</a></li><li class="sidebar-sub-header"><a href="/study/zh/standard/Compatibility.html#多倍屏处理" class="sidebar-link">多倍屏处理</a></li><li class="sidebar-sub-header"><a href="/study/zh/standard/Compatibility.html#自适应处理" class="sidebar-link">自适应处理</a></li></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="常见兼容问题"><a href="#常见兼容问题" class="header-anchor">#</a> 常见兼容问题</h1> <h2 id="如何处理兼容问题"><a href="#如何处理兼容问题" class="header-anchor">#</a> 如何处理兼容问题</h2> <ul><li>在<a href="https://caniuse.com/" target="_blank" rel="noopener noreferrer">Can I Use<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>网站查询兼容情况</li> <li>在JS代码里使用对象检测，判断该特性是否支持 eg:
<ul><li>'XMLHttpRequest' in window</li> <li>'WebkitMask' in document.documentElement.style</li></ul></li> <li>使用postcss做样式的后处理</li></ul> <h2 id="样式问题"><a href="#样式问题" class="header-anchor">#</a> 样式问题</h2> <h3 id="清除浏览器默认样式"><a href="#清除浏览器默认样式" class="header-anchor">#</a> 清除浏览器默认样式</h3> <div class="language-css extra-class"><pre class="language-css"><code>引入common.css或reset.css重置默认样式
</code></pre></div><h3 id="清除ios输入框默认阴影"><a href="#清除ios输入框默认阴影" class="header-anchor">#</a> 清除ios输入框默认阴影</h3> <div class="language-css extra-class"><pre class="language-css"><code><span class="token property">-webkit-appearance</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
</code></pre></div><h3 id="清除ios触摸元素出现半透明灰色遮罩"><a href="#清除ios触摸元素出现半透明灰色遮罩" class="header-anchor">#</a> 清除ios触摸元素出现半透明灰色遮罩</h3> <div class="language-css extra-class"><pre class="language-css"><code><span class="token property">-webkit-tap-highlight-color</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span>
</code></pre></div><h3 id="ios滑动卡顿问题"><a href="#ios滑动卡顿问题" class="header-anchor">#</a> Ios滑动卡顿问题</h3> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">body</span> <span class="token punctuation">{</span><span class="token property">-webkit-overflow-scrolling</span><span class="token punctuation">:</span> touch<span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre></div><h3 id="禁止复制、选中文本"><a href="#禁止复制、选中文本" class="header-anchor">#</a> 禁止复制、选中文本</h3> <div class="language-css extra-class"><pre class="language-css"><code><span class="token property">-webkit-user-select</span><span class="token punctuation">:</span>none<span class="token punctuation">;</span>
<span class="token property">user-select</span><span class="token punctuation">:</span>none<span class="token punctuation">;</span>
</code></pre></div><h3 id="修改input框的placehold样式"><a href="#修改input框的placehold样式" class="header-anchor">#</a> 修改input框的placehold样式</h3> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">input::-webkit-input-placeholder,
textarea::-webkit-input-placeholder</span> <span class="token punctuation">{</span>
		<span class="token property">color</span><span class="token punctuation">:</span> #f00<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="模拟实现pc上的hover效果"><a href="#模拟实现pc上的hover效果" class="header-anchor">#</a> 模拟实现PC上的hover效果</h3> <div class="language-css extra-class"><pre class="language-css"><code>touchStart事件+touchEnd事件模拟
在touchStart时添加class，在touchEnd时移除class
</code></pre></div><h3 id="启用硬件加速"><a href="#启用硬件加速" class="header-anchor">#</a> 启用硬件加速</h3> <div class="language-css extra-class"><pre class="language-css"><code><span class="token property">-webkit-transform</span><span class="token punctuation">:</span><span class="token function">translate3d</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">)</span>
<span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate3d</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="多倍屏1px像素问题和图片模糊问题"><a href="#多倍屏1px像素问题和图片模糊问题" class="header-anchor">#</a> 多倍屏1px像素问题和图片模糊问题</h3> <div class="language-css extra-class"><pre class="language-css"><code>图片模糊使用多倍图，常使用2倍图做统一处理
1<span class="token property">px像素问题使用dpr查询和缩放解决（transfrom</span><span class="token punctuation">:</span><span class="token function">scale</span><span class="token punctuation">(</span>0.5/0.33<span class="token punctuation">)</span>）
</code></pre></div><h3 id="transition闪屏问题"><a href="#transition闪屏问题" class="header-anchor">#</a> transition闪屏问题</h3> <div class="language-css extra-class"><pre class="language-css"><code>/设置内嵌的元素在3D 空间如何呈现：保留3D /
<span class="token property">-webkit-transform-style</span><span class="token punctuation">:</span> preserve-3d<span class="token punctuation">;</span>
/ 设置进行转换的元素的背面在面对用户时是否可见：隐藏 / 
<span class="token property">-webkit-backface-visibility</span><span class="token punctuation">:</span>hidden<span class="token punctuation">;</span>
</code></pre></div><h3 id="fixed定位问题"><a href="#fixed定位问题" class="header-anchor">#</a> fixed定位问题</h3> <div class="language-css extra-class"><pre class="language-css"><code><span class="token property">android下fixed元素容易定位出错，软键盘弹出时，影响fixed元素定位，会以软键盘的上方为bottom</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span>  
IOS下fixed表现要比Android更好，软键盘弹出时，不会影响fixed元素定位  
解决：通过屏幕的resize事件重新给fixed元素设置样式
</code></pre></div><h3 id="_300ms延迟问题"><a href="#_300ms延迟问题" class="header-anchor">#</a> 300ms延迟问题</h3> <div class="language-js extra-class"><pre class="language-js"><code>浏览器如何判断快速点击时要区分单击事件和双击屏幕缩放的历史原因造成的，当用户在屏幕上单击某一个元素时候，  
例如跳转链接<span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;#&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>，此处浏览器会先捕获该次单击，但浏览器不能决定用户是单纯要点击链接还是要双  
击该部分区域进行缩放操作，所以，捕获第一次单击后，浏览器会先Hold一段时间t，如果在t时间区间里用户未进行  
下一次点击，则浏览器会做单击跳转链接的处理，如果t时间里用户进行了第二次单击操作，则浏览器会禁止跳转，  
转而进行对该部分区域页面的缩放操作。那么这个时间区间t有多少呢？在<span class="token constant">IOS</span> safari下，大概为<span class="token number">300</span>毫秒。  这就是  
延迟的由来。造成的后果用户纯粹单击页面，页面需要过一段时间才响应，给用户慢体验感觉，对于web开发者来说是，  
页面js捕获click事件的回调函数处理，需要<span class="token number">300</span>ms后才生效，也就间接导致影响其他业务逻辑的处理。
解决：fastclick库或者使用touchstart事件代替点击事件
fastclick<span class="token operator">:</span> 
	<span class="token keyword">var</span> FastClick <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fastclick'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	FastClick<span class="token punctuation">.</span><span class="token function">attach</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>
touchstart事件：
	触摸事件的响应顺序为 touchstart <span class="token operator">--</span><span class="token operator">&gt;</span> touchmove <span class="token operator">--</span><span class="token operator">&gt;</span> touchend <span class="token operator">--</span><span class="token operator">&gt;</span> click<span class="token punctuation">,</span>
	也可以通过绑定ontouchstart事件，加快对事件的响应，解决<span class="token number">300</span>ms延迟问题
</code></pre></div><h3 id="点击穿透问题"><a href="#点击穿透问题" class="header-anchor">#</a> <a href="http://www.fly63.com/article/detial/695" target="_blank" rel="noopener noreferrer">点击穿透问题<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <div class="language-js extra-class"><pre class="language-js"><code>当<span class="token constant">A</span><span class="token operator">/</span><span class="token constant">B</span>两个层上下z轴重叠，上层的<span class="token constant">A</span>点击后消失或移开（这一点很重要），并且<span class="token constant">B</span>元素本身有默认click事件（如a标签）或绑定了click事件。在这种情况下，点击<span class="token constant">A</span><span class="token operator">/</span><span class="token constant">B</span>重叠的部分，就会出现点透的现象。
本质原因<span class="token operator">:</span> 事件触发顺序，参见上方
解决：  fastclick库或者用touchend代替tap事件并阻止掉时<span class="token constant">A</span><span class="token function">元素touchend的默认行为preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>，从而阻止click事件的产生
</code></pre></div><h3 id="js不执行问题"><a href="#js不执行问题" class="header-anchor">#</a> js不执行问题</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">点击浏览器的回退，有时候不会自动执行js，特别是在mobilesafari中。这与往返缓存</span><span class="token punctuation">(</span>bfcache<span class="token punctuation">)</span>有关系。
解决方法 ：window<span class="token punctuation">.</span><span class="token function-variable function">onunload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="移动端audio-autoplay失效问题"><a href="#移动端audio-autoplay失效问题" class="header-anchor">#</a> 移动端audio autoplay失效问题</h3> <div class="language-js extra-class"><pre class="language-js"><code>由于自动播放网页中的音频或视频，会给用户带来一些困扰或者不必要的流量消耗，所以苹果系统和安卓系统通常都会禁止自动播放和使用 <span class="token constant">JS</span> 的触发播放，必须由用户来触发才可以播放
解决方法思路：先通过用户 touchstart 触碰，触发播放并暂停
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'touchstart'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 执行播放逻辑</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="移动端适配问题"><a href="#移动端适配问题" class="header-anchor">#</a> 移动端适配问题</h2> <ul><li>navigator.useragent做环境检测和版本检测</li> <li>媒体查询做宽高、屏幕比例和dpr的检测</li> <li>Rem做布局单位</li></ul> <h3 id="窗口适配，禁止用户缩放"><a href="#窗口适配，禁止用户缩放" class="header-anchor">#</a> 窗口适配，禁止用户缩放</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><h3 id="常用navigator-useragent"><a href="#常用navigator-useragent" class="header-anchor">#</a> 常用navigator.useragent</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> ua <span class="token operator">=</span> navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token constant">UA</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token constant">UA</span><span class="token punctuation">.</span>ie <span class="token operator">=</span> <span class="token punctuation">(</span>s <span class="token operator">=</span> ua<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(msie\s|trident.*rv:)([\d.]+)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> s<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token constant">UA</span><span class="token punctuation">.</span>firefox <span class="token operator">=</span> <span class="token punctuation">(</span>s <span class="token operator">=</span> ua<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">firefox\/([\d.]+)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token operator">!</span><span class="token operator">!</span>s<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token constant">UA</span><span class="token punctuation">.</span>chrome <span class="token operator">=</span> <span class="token punctuation">(</span>s <span class="token operator">=</span> ua<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">chrome\/([\d.]+)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token operator">!</span><span class="token operator">!</span>s<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token constant">UA</span><span class="token punctuation">.</span>opera <span class="token operator">=</span> <span class="token punctuation">(</span>s <span class="token operator">=</span> ua<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">opera.([\d.]+)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token operator">!</span><span class="token operator">!</span>s<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token constant">UA</span><span class="token punctuation">.</span>safari <span class="token operator">=</span> <span class="token punctuation">(</span>s <span class="token operator">=</span> ua<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">version\/([\d.]+).*safari</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token operator">!</span><span class="token operator">!</span>s<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token constant">UA</span><span class="token punctuation">.</span>android <span class="token operator">=</span> <span class="token punctuation">(</span>s <span class="token operator">=</span> ua<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">android</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token operator">!</span><span class="token operator">!</span>s <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token constant">UA</span><span class="token punctuation">.</span>iphone <span class="token operator">=</span> <span class="token punctuation">(</span>s <span class="token operator">=</span> ua<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">iphone os</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token operator">!</span><span class="token operator">!</span>s <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token constant">UA</span><span class="token punctuation">.</span>ipad <span class="token operator">=</span> <span class="token punctuation">(</span>s <span class="token operator">=</span> ua<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">ipad</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token operator">!</span><span class="token operator">!</span>s <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token constant">UA</span><span class="token punctuation">.</span>ios <span class="token operator">=</span> <span class="token constant">UA</span><span class="token punctuation">.</span>ipad <span class="token operator">||</span> <span class="token constant">UA</span><span class="token punctuation">.</span>iphone<span class="token punctuation">;</span>
<span class="token constant">UA</span><span class="token punctuation">.</span>isWin32 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">win32</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>navigator<span class="token punctuation">.</span>platform<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token constant">UA</span><span class="token punctuation">.</span>isWeixin <span class="token operator">=</span> <span class="token punctuation">(</span>s <span class="token operator">=</span> ua<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">MicroMessenger</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token operator">!</span><span class="token operator">!</span>s <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// 判断是否是在微信浏览器里面</span>
<span class="token constant">UA</span><span class="token punctuation">.</span>isUcweb <span class="token operator">=</span> <span class="token punctuation">(</span>s <span class="token operator">=</span> ua<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">ucbrowser</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token operator">!</span><span class="token operator">!</span>s <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token constant">UA</span><span class="token punctuation">.</span>isMqq <span class="token operator">=</span> navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'QQ'</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token constant">UA</span><span class="token punctuation">.</span>isWeiBo <span class="token operator">=</span> <span class="token punctuation">(</span>s <span class="token operator">=</span> ua<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">__weibo__</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token operator">!</span><span class="token operator">!</span>s <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// 是否微博浏览器</span>
<span class="token constant">UA</span><span class="token punctuation">.</span>winClient <span class="token operator">=</span> <span class="token punctuation">(</span>s <span class="token operator">=</span> ua<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">winclient</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token operator">!</span><span class="token operator">!</span>s <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// 是否pc客户端</span>
</code></pre></div><h3 id="rem计算"><a href="#rem计算" class="header-anchor">#</a> rem计算</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * JS版本
 * 以750为基础做适配，1rem = 100px, 1rem = 100rpx;
 * 监听pc端的resize事件和mobile的横屏（orientationchange）事件
 */</span>
<span class="token keyword">var</span> <span class="token function-variable function">fun</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">doc<span class="token punctuation">,</span> win</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> docEl <span class="token operator">=</span> doc<span class="token punctuation">.</span>documentElement<span class="token punctuation">,</span>
	resizeEvt <span class="token operator">=</span> <span class="token string">'orientationchange'</span> <span class="token keyword">in</span> window <span class="token operator">?</span> <span class="token string">'orientationchange'</span> <span class="token operator">:</span> <span class="token string">'resize'</span><span class="token punctuation">,</span>
	<span class="token function-variable function">recalc</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> clientWidth <span class="token operator">=</span> docEl<span class="token punctuation">.</span>clientWidth<span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>clientWidth<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

		<span class="token keyword">var</span> fontEl <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'style'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">var</span> metaEl <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'meta[name=&quot;viewport&quot;]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">var</span> dpr <span class="token operator">=</span> window<span class="token punctuation">.</span>devicePixelRatio <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">;</span>
		scale <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">/</span> dpr<span class="token punctuation">;</span>
		<span class="token comment">// 设置viewport，进行缩放，达到高清效果</span>
		metaEl<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'content'</span><span class="token punctuation">,</span> <span class="token string">'width='</span> <span class="token operator">+</span> dpr <span class="token operator">*</span> docEl<span class="token punctuation">.</span>clientWidth <span class="token operator">+</span> <span class="token string">',initial-scale='</span> <span class="token operator">+</span> scale <span class="token operator">+</span> <span class="token string">',maximum-scale='</span> <span class="token operator">+</span> scale <span class="token operator">+</span> <span class="token string">', minimum-scale='</span> <span class="token operator">+</span> scale <span class="token operator">+</span> <span class="token string">',user-scalable=no'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 设置data-dpr属性，留作的css hack之用，解决图片模糊问题和1px细线问题</span>
		docEl<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'data-dpr'</span><span class="token punctuation">,</span> dpr<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//这里是假设在750px宽度设计稿的情况下，1rem = 100px；</span>
		<span class="token comment">//可以根据实际需要修改</span>
		docEl<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span>  <span class="token punctuation">(</span>clientWidth<span class="token operator">*</span>dpr <span class="token operator">/</span> <span class="token number">750</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">100</span> <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>doc<span class="token punctuation">.</span>addEventListener<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
	win<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>resizeEvt<span class="token punctuation">,</span> recalc<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	doc<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'DOMContentLoaded'</span><span class="token punctuation">,</span> recalc<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">fun</span><span class="token punctuation">(</span>document<span class="token punctuation">,</span> window<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-css extra-class"><pre class="language-css"><code><span class="token comment">/**
	* CSS版本
*/</span>
<span class="token selector">html</span><span class="token punctuation">{</span>
	<span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>100vw / 750 * 100<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="多倍屏处理"><a href="#多倍屏处理" class="header-anchor">#</a> 多倍屏处理</h3> <div class="language-css extra-class"><pre class="language-css"><code>通过媒体查询中的宽高和dpr做判断
<span class="token comment">/* iphone 3 */</span>
<span class="token atrule"><span class="token rule">@media</span> <span class="token keyword">only</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">min-device-width</span><span class="token punctuation">:</span> 320px<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-device-height</span><span class="token punctuation">:</span> 480px<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">-webkit-device-pixel-ratio</span><span class="token punctuation">:</span> 1<span class="token punctuation">)</span></span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token comment">/* iphone 4 */</span>
<span class="token atrule"><span class="token rule">@media</span> <span class="token keyword">only</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">min-device-width</span><span class="token punctuation">:</span> 320px<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-device-height</span><span class="token punctuation">:</span> 480px<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">-webkit-device-pixel-ratio</span><span class="token punctuation">:</span> 2<span class="token punctuation">)</span></span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token comment">/* iphone 5 */</span>
<span class="token atrule"><span class="token rule">@media</span> <span class="token keyword">only</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">min-device-width</span><span class="token punctuation">:</span> 320px<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-device-height</span><span class="token punctuation">:</span> 568px<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">-webkit-device-pixel-ratio</span><span class="token punctuation">:</span> 2<span class="token punctuation">)</span></span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token comment">/* iphone 6, 6s */</span>
<span class="token atrule"><span class="token rule">@media</span> <span class="token keyword">only</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">min-device-width</span><span class="token punctuation">:</span> 375px<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-device-height</span><span class="token punctuation">:</span> 667px<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">-webkit-device-pixel-ratio</span><span class="token punctuation">:</span> 2<span class="token punctuation">)</span></span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token comment">/* iphone 7, 8 */</span>
<span class="token atrule"><span class="token rule">@media</span> <span class="token keyword">only</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">min-device-width</span><span class="token punctuation">:</span> 375px<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-device-height</span><span class="token punctuation">:</span> 667px<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">-webkit-device-pixel-ratio</span><span class="token punctuation">:</span> 2<span class="token punctuation">)</span></span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token comment">/* iphone 6+, 6s+, 7+, 8+ */</span>
<span class="token atrule"><span class="token rule">@media</span> <span class="token keyword">only</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">min-device-width</span><span class="token punctuation">:</span> 414px<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-device-height</span><span class="token punctuation">:</span> 736px<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">-webkit-device-pixel-ratio</span><span class="token punctuation">:</span> 3<span class="token punctuation">)</span></span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token comment">/* iphone X */</span>
<span class="token atrule"><span class="token rule">@media</span> <span class="token keyword">only</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">min-device-width</span><span class="token punctuation">:</span> 375px<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-device-height</span><span class="token punctuation">:</span> 812px<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">-webkit-device-pixel-ratio</span><span class="token punctuation">:</span> 3<span class="token punctuation">)</span></span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre></div><h3 id="自适应处理"><a href="#自适应处理" class="header-anchor">#</a> 自适应处理</h3> <div class="language-css extra-class"><pre class="language-css"><code>通过媒体查询 + 样式的覆盖
<span class="token comment">/*小屏幕*/</span>
<span class="token atrule"><span class="token rule">@media</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 768px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">/*平板*/</span>
<span class="token atrule"><span class="token rule">@media</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 768px<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 992px<span class="token punctuation">)</span></span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">/*中等屏幕*/</span>
<span class="token atrule"><span class="token rule">@media</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 992px<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 1200px<span class="token punctuation">)</span></span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">/*大屏幕，或者宽屏*/</span>
<span class="token atrule"><span class="token rule">@media</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 1200px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/Majk1224/study/edit/master/src/zh/standard/Compatibility.md" target="_blank" rel="noopener noreferrer">帮助我们改进内容</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">2022/8/2 下午5:31:38</span></div></div> <!----> <div class="bsa-cpc-wrapper"><div class="bsa-cpc"></div></div></div> <!----></div></div>
    <script src="/study/assets/js/app.24705535.js" defer></script><script src="/study/assets/js/75.9dcb4b1e.js" defer></script>
    <script>
      var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?c3446600de53c605ba4f6c792e47dff9";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
      })();
    </script>
  </body>
</html>
